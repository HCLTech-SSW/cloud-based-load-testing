(this["webpackJsonpcloud-based-load-testing"]=this["webpackJsonpcloud-based-load-testing"]||[]).push([[0],{168:function(e,t,a){e.exports=a(607)},174:function(e,t,a){},607:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(52),s=a.n(r),c=(a(173),a(174),a(32)),o=a(33),m=a(18),i=a(35),u=a(34),d=a(88),E=a(50),h=a(17),p=a(45),b=a(46),g=a(626),v=a(627),f=a(628),N=a(629),y=a(630),k=a(631),T=a(41),C=a(97),O=a(21),S=a.n(O),x=a(47),j=a(611),I=a(612),w=a(613),U=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getItems=Object(x.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({Items:[],isLoading:!0}),e.prev=1,e.next=4,T.a.get("cblt","/scenarios");case 4:t=e.sent,n.setState({Items:t.Items,isLoading:!1}),0===t.Items.length&&n.setState({noData:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),n.state={Items:[],isLoading:!0,noData:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getItems()}},{key:"render",value:function(){var e=this.state.Items,t=l.a.createElement("div",{className:"welcome"},l.a.createElement("h2",null,"To get started select Create test from the top menu.")),a=l.a.createElement("tbody",{ref:this.tableBody},e.map((function(e){return l.a.createElement("tr",{key:e.testId},l.a.createElement("td",null,e.testId),l.a.createElement("td",null,e.testName),l.a.createElement("td",{className:"desc"},e.testDescription),l.a.createElement("td",null,e.startTime),l.a.createElement("td",{className:e.status},e.status),l.a.createElement("td",{className:"td-center"},l.a.createElement(E.b,{to:{pathname:"/details",state:{testId:e.testId}}},l.a.createElement(p.a,{icon:b.a,size:"lg"}))))})));return l.a.createElement("div",null,l.a.createElement("div",{className:"box"},l.a.createElement("h1",null,"Test Scenarios"),l.a.createElement(j.a,{onClick:this.getItems,size:"sm"},"Refresh")),l.a.createElement("div",{className:"box"},l.a.createElement(I.a,{className:"dashboard",borderless:!0,responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Test Id"),l.a.createElement("th",null,"Test Name"),l.a.createElement("th",null,"Test Description"),l.a.createElement("th",null,"Last Run (UTC)"),l.a.createElement("th",null,"Test Status"),l.a.createElement("th",{className:"td-center"},"Details"))),a),this.state.isLoading?l.a.createElement("div",{className:"loading"},l.a.createElement(w.a,{color:"secondary"})):l.a.createElement("div",null)),this.state.noData?t:l.a.createElement("div",null))}}]),a}(l.a.Component),D=a(67),F=(a(81),a(94)),L=a.n(F),A=a(614),P=a(615),R=a(616),V=a(617),q=a(618),_=a(619),M=a(620),J=(a(585),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSubmit=Object(x.a)(S.a.mark((function e(){var t,a,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.formValues,n.form.current.reportValidity()){e.next=3;break}return e.abrupt("return",!1);case 3:if(t.headers||(t.headers="{}"),t.body||(t.body="{}"),n.parseJson(t.headers.trim())){e.next=7;break}return e.abrupt("return",alert("WARINING: headers text is not valid JSON"));case 7:if(n.parseJson(t.body.trim())){e.next=9;break}return e.abrupt("return",alert("WARINING: body text is not valid JSON"));case 9:return n.setState({isLoading:!0}),e.prev=10,a={testName:t.testName,testDescription:t.testDescription,taskCount:t.taskCount,testNotifyEmail:t.testNotifyEmail,testScenario:{execution:[{concurrency:t.concurrency,"ramp-up":String(t.rampUp).concat(t.rampUpUnits),"hold-for":String(t.holdFor).concat(t.holdForUnits),scenario:t.testName}],scenarios:Object(D.a)({},t.testName,{requests:[{url:t.endpoint,method:t.method,body:n.parseJson(t.body.trim()),headers:n.parseJson(t.headers.trim())}]})}},n.state.testId&&(a.testId=n.state.testId),e.next=15,T.a.post("cblt","/scenarios",{body:a});case 15:l=e.sent,console.log("Scenario created successfully",l),n.props.history.push("/"),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(10),console.error("Failed to create scenario",e.t0),n.setState({isLoading:!1});case 24:case"end":return e.stop()}}),e,null,[[10,20]])}))),n.listTasks=Object(x.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("cblt","/tasks");case 3:0!==e.sent.length&&n.setState({runningTasks:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.props.location.state.data.testId?n.state={isLoading:!1,runningTasks:!1,testId:n.props.location.state.data.testId,formValues:{testName:n.props.location.state.data.testName,testDescription:n.props.location.state.data.testDescription,taskCount:n.props.location.state.data.taskCount,concurrency:n.props.location.state.data.concurrency,holdFor:n.props.location.state.data.holdFor.slice(0,-1),holdForUnits:n.props.location.state.data.holdFor.slice(-1),rampUp:n.props.location.state.data.rampUp.slice(0,-1),rampUpUnits:n.props.location.state.data.rampUp.slice(-1),endpoint:n.props.location.state.data.endpoint,method:n.props.location.state.data.method,body:JSON.stringify(n.props.location.state.data.body),headers:JSON.stringify(n.props.location.state.data.headers),testNotifyEmail:n.props.location.state.data.testNotifyEmail}}:n.state={isLoading:!1,runningTasks:!1,testId:null,formValues:{testName:"",testDescription:"",taskCount:0,concurrency:0,holdFor:0,holdForUnits:"m",rampUp:0,rampUpUnits:"m",endpoint:"",method:"GET",body:"",headers:"",testNotifyEmail:""}},n.form=l.a.createRef(),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(m.a)(n)),n.setFormValue=n.setFormValue.bind(Object(m.a)(n)),n.handleBodyPayloadChange=n.handleBodyPayloadChange.bind(Object(m.a)(n)),n.handleHeadersChange=n.handleHeadersChange.bind(Object(m.a)(n)),n.parseJson=n.parseJson.bind(Object(m.a)(n)),n.listTasks=n.listTasks.bind(Object(m.a)(n)),n}return Object(o.a)(a,[{key:"parseJson",value:function(e){try{return JSON.parse(e)}catch(t){return!1}}},{key:"setFormValue",value:function(e,t){var a=this.state.formValues;a[e]=t,this.setState({formValues:a})}},{key:"handleInputChange",value:function(e){var t=e.target.value,a=e.target.name;this.setFormValue(a,t)}},{key:"handleBodyPayloadChange",value:function(e){this.setFormValue("body",e)}},{key:"handleHeadersChange",value:function(e){this.setFormValue("headers",e)}},{key:"componentDidMount",value:function(){this.listTasks()}},{key:"render",value:function(){var e=l.a.createElement("div",null,l.a.createElement("div",{className:"box"},l.a.createElement("h1",null,"Create a Load Test")),l.a.createElement("p",{className:"warning"},"Warning there is a test running, multiple concurrent tests is currently not supported to avoid hitting the AWS Fargate task limits. Please wait for the test to finish before submitting a new test!")),t=l.a.createElement("div",{className:"box"},l.a.createElement("h1",null,"Create a Load Test")),a=l.a.createElement("div",null,l.a.createElement("div",{className:"box"},l.a.createElement("h3",null,"Test General Settings"),l.a.createElement(A.a,{sm:"2"},l.a.createElement(P.a,null,l.a.createElement(R.a,null,l.a.createElement(V.a,{for:"testName"},"Test Name"),l.a.createElement(q.a,{value:this.state.formValues.testName,type:"text",name:"testName",id:"testName",required:!0,onChange:this.handleInputChange}),l.a.createElement(_.a,{color:"muted"},"The name of your load test, doesn't have to be unique."))),l.a.createElement(P.a,null,l.a.createElement(R.a,null,l.a.createElement(V.a,{for:"testDescription"},"Test Description"),l.a.createElement(q.a,{value:this.state.formValues.testDescription,type:"textarea",name:"testDescription",id:"testDescription",required:!0,onChange:this.handleInputChange}),l.a.createElement(_.a,{color:"muted"},"Short description of the test scenario.")))),l.a.createElement(A.a,{sm:"2"},l.a.createElement(P.a,null,l.a.createElement(R.a,null,l.a.createElement(V.a,{for:"taskCount"},"No. of Containers (i.e. Task Count)"),l.a.createElement(q.a,{value:this.state.formValues.taskCount,className:"form-short",type:"number",name:"taskCount",id:"taskCount",max:50,min:1,step:1,required:!0,onChange:this.handleInputChange}),l.a.createElement(_.a,{color:"muted"},"Number of docker containers that will be launched in the Fargate cluster to run the test scenario, max value 50."))),l.a.createElement(P.a,null,l.a.createElement(R.a,null,l.a.createElement(V.a,{for:"concurrency"},"No. of Virtual Users (i.e.Concurrency TPS)"),l.a.createElement(q.a,{value:this.state.formValues.concurrency,className:"form-short",type:"number",max:200,min:1,step:1,name:"concurrency",id:"concurrency",required:!0,onChange:this.handleInputChange}),l.a.createElement(_.a,{color:"muted"},"The number of virtual users generated per task, max value 200.")))),l.a.createElement(A.a,{sm:"2"},l.a.createElement(P.a,null,l.a.createElement(R.a,null,l.a.createElement(V.a,{for:"rampUp"},"Start"),l.a.createElement(M.a,{className:"input-group-short"},l.a.createElement(q.a,{value:this.state.formValues.rampUp,className:"form-short",type:"number",name:"rampUp",id:"rampUp",required:!0,onChange:this.handleInputChange}),"\xa0",l.a.createElement(q.a,{type:"select",className:"form-short",name:"rampUpUnits",value:this.state.formValues.rampUpUnits,id:"rampUpUnits",onChange:this.handleInputChange},l.a.createElement("option",{value:"m"},"minutes"),l.a.createElement("option",{value:"s"},"seconds"))),l.a.createElement(_.a,{color:"muted"},"The time to reach target concurrency."))),l.a.createElement(P.a,null,l.a.createElement(R.a,null,l.a.createElement(V.a,{for:"holdFor"},"Wait For"),l.a.createElement(M.a,{className:"input-group-short"},l.a.createElement(q.a,{value:this.state.formValues.holdFor,className:"form-short",type:"number",min:1,name:"holdFor",id:"holdFor",required:!0,onChange:this.handleInputChange}),"\xa0",l.a.createElement(q.a,{type:"select",value:this.state.formValues.holdForUnits,className:"form-short",name:"holdForUnits",id:"holdForUnits",onChange:this.handleInputChange},l.a.createElement("option",{value:"m"},"minutes"),l.a.createElement("option",{value:"s"},"seconds"))),l.a.createElement(_.a,{color:"muted"},"Time to hold target concurrency."))))),l.a.createElement("div",{className:"box"},l.a.createElement("h3",null,"Scenario"),l.a.createElement(A.a,{sm:"2"},l.a.createElement(P.a,null,l.a.createElement(R.a,null,l.a.createElement(V.a,{for:"endpoint"},"URL or HTTP endpoint to test"),l.a.createElement(q.a,{value:this.state.formValues.endpoint,type:"url",name:"endpoint",id:"endpoint",required:!0,onChange:this.handleInputChange}),l.a.createElement(_.a,{color:"muted"},"Target URL to run tests against, supports http and https. i.e. https://example.com:8080."))),l.a.createElement(P.a,null,l.a.createElement(R.a,null,l.a.createElement(V.a,{for:"method"},"HTTP Method"),l.a.createElement(q.a,{value:this.state.formValues.method,className:"form-short",type:"select",name:"method",id:"method",required:!0,onChange:this.handleInputChange},l.a.createElement("option",null,"GET"),l.a.createElement("option",null,"PUT"),l.a.createElement("option",null,"POST"),l.a.createElement("option",null,"DELETE")),l.a.createElement(_.a,{color:"muted"},"The request method, default is GET.")))),l.a.createElement(A.a,{sm:"2"},l.a.createElement(P.a,null,l.a.createElement(R.a,null,l.a.createElement(V.a,{for:"testDescription"},"HTTP endpoint Headers (Optional)"),l.a.createElement(L.a,{mode:"text",theme:"github",showPrintMargin:!0,showGutter:!0,value:this.state.formValues.headers,highlightActiveLine:!0,onChange:this.handleHeadersChange,name:"headers",width:"100%",height:"190px",editorProps:{$blockScrolling:!0},setOptions:{showLineNumbers:!0,tabSize:2}}),l.a.createElement(_.a,{color:"muted"},"A valid JSON object key-value pair containing headers to include in the requests."))),l.a.createElement(P.a,null,l.a.createElement(R.a,null,l.a.createElement(V.a,null,"HTTP request Body Payload (Optional)"),l.a.createElement(L.a,{mode:"json",theme:"github",showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,onChange:this.handleBodyPayloadChange,name:"bodyPayload",value:this.state.formValues.body,width:"100%",height:"190px",editorProps:{$blockScrolling:!0},setOptions:{showLineNumbers:!0,tabSize:2}}),l.a.createElement(_.a,{color:"muted"},"A valid JSON object containing any body text to include in the requests."))))),l.a.createElement("div",{className:"box"},l.a.createElement(A.a,{sm:"2"},l.a.createElement(P.a,null,l.a.createElement(R.a,null,l.a.createElement(V.a,{for:"testNotifyEmail"},"Valid Email to Notify"),l.a.createElement(q.a,{value:this.state.formValues.testNotifyEmail,type:"text",name:"testNotifyEmail",id:"testNotifyEmail",required:!0,onChange:this.handleInputChange}),l.a.createElement(_.a,{color:"muted"},"After START TEST, user will get the confirmation email to subscribe to receive the Test Results post Test completion."))),l.a.createElement(P.a,null,l.a.createElement(j.a,{className:"submit",size:"sm",onClick:this.handleSubmit,disabled:this.state.runningTasks},"Start Test")))));return l.a.createElement("div",null,l.a.createElement("form",{ref:this.form,onSubmit:function(e){return e.preventDefault()}},this.state.runningTasks?e:t,l.a.createElement("div",null,this.state.isLoading?l.a.createElement("div",{className:"loading"},l.a.createElement(w.a,{color:"secondary"})):a)))}}]),a}(l.a.Component)),z=a(633),H=a(623),B=a(624),W=a(625),G=a(632),$=a(621),K=a(622),Q=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toggle=n.toggle.bind(Object(m.a)(n)),n.state={info:!1},n}return Object(o.a)(a,[{key:"toggle",value:function(){this.setState({info:!this.state.info})}},{key:"render",value:function(){var e,t=this.props.data.results||{};return t.rc&&t.rc.length>0&&(e=t.rc.map((function(e){return l.a.createElement(P.a,{sm:"3",key:e.code},l.a.createElement("div",{className:"result error"},l.a.createElement("b",null,"Error ",e.code,":"),l.a.createElement("span",null,e.count)))}))),l.a.createElement("div",null,l.a.createElement("div",{className:"box"},l.a.createElement("h2",null,"Test Results"),l.a.createElement(j.a,{id:"info",color:"link"},l.a.createElement(p.a,{id:"icon",icon:b.d})," Info"),l.a.createElement(A.a,null,l.a.createElement(P.a,{sm:"3"},l.a.createElement("div",{className:"result"},"Avg Response Time",l.a.createElement("p",null,t.avg_rt,"s"))),l.a.createElement(P.a,{sm:"3"},l.a.createElement("div",{className:"result"},"Avg Latency",l.a.createElement("p",null,t.avg_lt,"s"))),l.a.createElement(P.a,{sm:"3"},l.a.createElement("div",{className:"result"},"Avg Conection Time",l.a.createElement("p",null,t.avg_ct,"s"))),l.a.createElement(P.a,{sm:"3"},l.a.createElement("div",{className:"result"},"Avg Bandwidth",l.a.createElement("p",null,Math.round(.01*t.bytes)/10," kbps")))),l.a.createElement(A.a,null,l.a.createElement(P.a,{sm:"3"},l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"Total Requests:"),l.a.createElement("span",null,t.throughput))),l.a.createElement(P.a,{sm:"3"},l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"Success Count:"),l.a.createElement("span",null,t.succ))),l.a.createElement(P.a,{sm:"3"},l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"Error Count:"),l.a.createElement("span",null,t.fail))),l.a.createElement(P.a,{sm:"3"},l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"Avg Task Duration:"),l.a.createElement("span",null,Math.round(t.testDuration/60),"m")))),l.a.createElement(A.a,null,e),l.a.createElement(A.a,null,l.a.createElement(P.a,{sm:"3"},l.a.createElement("h3",null,"Percentile Response Time"),l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"100%:"),l.a.createElement("span",null,t.p100_0,"s")),l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"99.9%:"),l.a.createElement("span",null,t.p99_9,"s")),l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"99%:"),l.a.createElement("span",null,t.p99_0,"s")),l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"95%:"),l.a.createElement("span",null,t.p95_0,"s")),l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"90%:"),l.a.createElement("span",null,t.p90_0,"s")),l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"50%:"),l.a.createElement("span",null,t.p50_0,"s")),l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"0%:"),l.a.createElement("span",null,t.p0_0,"s"))),l.a.createElement(P.a,{sm:"9"},l.a.createElement("img",{src:"data:image/jpeg;base64,".concat(this.props.data.metricWidgetImage),alt:"avRt"})))),l.a.createElement(G.a,{className:"info",placement:"top",isOpen:this.state.info,target:"info",toggle:this.toggle},l.a.createElement($.a,null,"Results Details"),l.a.createElement(K.a,null,l.a.createElement("li",null,l.a.createElement("b",null,"Avg Response Time (AvgRt):")," the average response time in seconds for all requests."),l.a.createElement("li",null,l.a.createElement("b",null,"Avg Latency (AvgLt):")," the average latency in seconds for all requests "),l.a.createElement("li",null,l.a.createElement("b",null,"Avg Connection Time (AvgCt):")," the average connection time in seconds for all requests "),l.a.createElement("li",null,l.a.createElement("b",null,"Avg Bandwidth:")," the average bandwidth in kilobytes per second for all requests  "),l.a.createElement("li",null,l.a.createElement("b",null,"Percentiles:")," percentile levels for the response time, 0 is also minimum response time, 100 is maximum response time "))))}}]),a}(l.a.Component),X=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=0,t=0,a=0;for(var n in this.props.data.tasks)switch(this.props.data.tasks[n].lastStatus){case"PROVISIONING":++e;break;case"PENDING":++t;break;case"RUNNING":++a}return l.a.createElement("div",null,l.a.createElement("div",{className:"box"},l.a.createElement("h3",null,"Tasks Status:"),l.a.createElement("span",{className:"console"},"Details for the running tasks can be viewed in the ",l.a.createElement("a",{className:"text-link",href:awsConfig.ecs_dashboard,target:"_blank",rel:"noopener noreferrer"},"Amazon ECS Console ",l.a.createElement(p.a,{size:"sm",icon:b.c}))),l.a.createElement(A.a,null,l.a.createElement(P.a,{sm:"3"},l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"Task Count:"),l.a.createElement("span",null,this.props.data.tasks.length," of ",this.props.data.taskCount))),l.a.createElement(P.a,{sm:"3"},l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"Provisioning Count:"),l.a.createElement("span",null,e))),l.a.createElement(P.a,{sm:"3"},l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"Pending Count:"),l.a.createElement("span",null,t))),l.a.createElement(P.a,{sm:"3"},l.a.createElement("div",{className:"result"},l.a.createElement("b",null,"Running Count:"),l.a.createElement("span",null,a))))),l.a.createElement("div",{className:"box"},l.a.createElement("h3",null,"Realtime Avg Response Times"),l.a.createElement("p",{className:"console"},"The realtime Average response times can be monitored using the ",l.a.createElement("a",{className:"text-link",href:awsConfig.cw_dashboard,target:"_blank",rel:"noopener noreferrer"},"Amazon CloudWatch Metrics Dashboard ",l.a.createElement(p.a,{size:"sm",icon:b.c}))),l.a.createElement("p",{className:"note"}," Response times will start to populate once the tasks are running, task are launched in batches of 10 and it can take 1-2 minutes for all tasks to be running.")))}}]),a}(l.a.Component),Y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.data.history||[];return l.a.createElement("div",null,l.a.createElement("div",{className:"box"},l.a.createElement("h2",null,"Results History"),l.a.createElement(I.a,{borderless:!0,responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"RunTime"),l.a.createElement("th",null,"AvgRt"),l.a.createElement("th",null,"AvgLt"),l.a.createElement("th",null,"AvgCt"),l.a.createElement("th",null,"100%"),l.a.createElement("th",null,"99.9%"),l.a.createElement("th",null,"99.0%"),l.a.createElement("th",null,"95%"),l.a.createElement("th",null,"90%"),l.a.createElement("th",null,"50%"),l.a.createElement("th",null,"0%"))),l.a.createElement("tbody",null,e.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.endTime),l.a.createElement("td",null,e.results.avg_rt),l.a.createElement("td",null,e.results.avg_lt),l.a.createElement("td",null,e.results.avg_ct),l.a.createElement("td",null,e.results.p100_0),l.a.createElement("td",null,e.results.p99_9),l.a.createElement("td",null,e.results.p99_0),l.a.createElement("td",null,e.results.p95_0),l.a.createElement("td",null,e.results.p90_0),l.a.createElement("td",null,e.results.p50_0),l.a.createElement("td",null,e.results.p0_0))}))))))}}]),a}(l.a.Component),Z=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).deleteTest=Object(x.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.testId.testId,e.prev=1,e.next=4,T.a.del("cblt","/scenarios/".concat(t));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert(e.t0);case 9:n.props.history.push("dashboard");case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))),n.cancelTest=Object(x.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.testId.testId,e.prev=1,e.next=4,T.a.post("cblt","/scenarios/".concat(t));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert(e.t0);case 9:n.props.history.push("dashboard");case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))),n.reloadData=Object(x.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0,data:{results:{},history:[],concurrency:null,rampUp:null,holdFor:null,endpoint:null,method:null,body:{},header:{},taskArns:[]}}),e.next=3,n.getTest();case 3:case"end":return e.stop()}}),e)}))),n.getTest=Object(x.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.testId.testId,e.prev=1,e.next=4,T.a.get("cblt","/scenarios/".concat(t));case 4:(a=e.sent).concurrency=a.testScenario.execution[0].concurrency,a.rampUp=a.testScenario.execution[0]["ramp-up"],a.holdFor=a.testScenario.execution[0]["hold-for"],a.endpoint=a.testScenario.scenarios[Object.keys(a.testScenario.scenarios)[0]].requests[0].url,a.method=a.testScenario.scenarios[Object.keys(a.testScenario.scenarios)[0]].requests[0].method,a.body=a.testScenario.scenarios[Object.keys(a.testScenario.scenarios)[0]].requests[0].body,a.headers=a.testScenario.scenarios[Object.keys(a.testScenario.scenarios)[0]].requests[0].headers,n.setState({isLoading:!1,data:a}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),alert(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])}))),n.componentDidMount=Object(x.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getTest();case 2:case"end":return e.stop()}}),e)}))),n.state={isLoading:!0,deleteModal:!1,cancelModal:!1,testId:e.location.state,data:{results:{},history:[],concurrency:null,rampUp:null,holdFor:null,endpoint:null,taskArns:[],testScenario:{execution:[],reporting:[],scenarios:{}}}},n.deleteToggle=n.deleteToggle.bind(Object(m.a)(n)),n.deleteTest=n.deleteTest.bind(Object(m.a)(n)),n.cancelToggle=n.cancelToggle.bind(Object(m.a)(n)),n.cancelTest=n.cancelTest.bind(Object(m.a)(n)),n}return Object(o.a)(a,[{key:"deleteToggle",value:function(){this.setState((function(e){return{deleteModal:!e.deleteModal}}))}},{key:"cancelToggle",value:function(){this.setState((function(e){return{cancelModal:!e.cancelModal}}))}},{key:"render",value:function(){var e=this,t=this.state.data,a=l.a.createElement("div",{className:"box"},l.a.createElement("h2",null,"Test Results"),l.a.createElement("p",null,"No results available as the test was cancelled.")),n=l.a.createElement("div",null,function(){switch(t.status){case"running":return l.a.createElement("div",{className:"box"},l.a.createElement("h1",null,"Load Test Details"),l.a.createElement(j.a,{color:"danger",onClick:e.cancelToggle,size:"sm"},"Cancel"),l.a.createElement(j.a,{onClick:e.reloadData,size:"sm"},"Refresh"));default:return l.a.createElement("div",{className:"box"},l.a.createElement("h1",null,"Load Test Details"),l.a.createElement(j.a,{color:"danger",onClick:e.deleteToggle,size:"sm"},"Delete"),l.a.createElement(E.b,{to:{pathname:"/create",state:{data:t}}},l.a.createElement(j.a,{size:"sm"},"Update")))}}(),l.a.createElement("div",{className:"box"},l.a.createElement(A.a,null,l.a.createElement(P.a,{sm:"7"},l.a.createElement(A.a,{className:"detail"},l.a.createElement(P.a,{sm:"3"},l.a.createElement("b",null,"Test ID")),l.a.createElement(P.a,{sm:"9"},t.testId)),l.a.createElement(A.a,{className:"detail"},l.a.createElement(P.a,{sm:"3"},l.a.createElement("b",null,"Test Name")),l.a.createElement(P.a,{sm:"9"},t.testName)),l.a.createElement(A.a,{className:"detail"},l.a.createElement(P.a,{sm:"3"},l.a.createElement("b",null,"Test Description")),l.a.createElement(P.a,{sm:"9"},t.testDescription)),l.a.createElement(A.a,{className:"detail"},l.a.createElement(P.a,{sm:"3"},l.a.createElement("b",null,"HTTP URL or Endpoint")),l.a.createElement(P.a,{sm:"9"},t.endpoint)),l.a.createElement(A.a,{className:"detail"},l.a.createElement(P.a,{sm:"3"},l.a.createElement("b",null,"HTTP request Body")),l.a.createElement(P.a,{sm:"9"},JSON.stringify(t.body))),l.a.createElement(A.a,{className:"detail"},l.a.createElement(P.a,{sm:"3"},l.a.createElement("b",null,"HTTP request Headers")),l.a.createElement(P.a,{sm:"9"},JSON.stringify(t.headers)))),l.a.createElement(P.a,{sm:"5"},l.a.createElement(A.a,{className:"detail"},l.a.createElement(P.a,{sm:"4"},l.a.createElement("b",null,"Test Status")),l.a.createElement(P.a,{className:t.status,sm:"8"},t.status)),l.a.createElement(A.a,{className:"detail"},l.a.createElement(P.a,{sm:"4"},l.a.createElement("b",null,"Last RAN")),l.a.createElement(P.a,{sm:"8"},t.startTime)),l.a.createElement(A.a,{className:"detail"},l.a.createElement(P.a,{sm:"4"},l.a.createElement("b",null,"No. of Containers (i.e. Task Count)")),l.a.createElement(P.a,{sm:"8"},t.taskCount)),l.a.createElement(A.a,{className:"detail"},l.a.createElement(P.a,{sm:"4"},l.a.createElement("b",null,"HTTP Method")),l.a.createElement(P.a,{sm:"8"},t.method)),l.a.createElement(A.a,{className:"detail"},l.a.createElement(P.a,{sm:"4"},l.a.createElement("b",null,"No. of Virtual users (i.e. Concurrency TPS)")),l.a.createElement(P.a,{sm:"8"},t.concurrency)),l.a.createElement(A.a,{className:"detail"},l.a.createElement(P.a,{sm:"4"},l.a.createElement("b",null,"Start")),l.a.createElement(P.a,{sm:"8"},t.rampUp)),l.a.createElement(A.a,{className:"detail"},l.a.createElement(P.a,{sm:"4"},l.a.createElement("b",null,"Wait For")),l.a.createElement(P.a,{sm:"8"},t.holdFor))))),function(){switch(t.status){case"complete":return l.a.createElement(Q,{data:t});case"cancelled":return l.a.createElement("div",null,a);default:return l.a.createElement(X,{data:t})}}(),"running"===t.status?l.a.createElement("div",null):l.a.createElement(Y,{data:t}));return l.a.createElement("div",null,this.state.isLoading?l.a.createElement("div",{className:"loading"},l.a.createElement(w.a,{color:"secondary"})):n,l.a.createElement(z.a,{isOpen:this.state.deleteModal,toggle:this.deleteToggle},l.a.createElement(H.a,null,"Warning"),l.a.createElement(B.a,null,"This will delete the test scenario and all of of the results"),l.a.createElement(W.a,null,l.a.createElement(j.a,{color:"link",size:"sm",onClick:this.deleteToggle},"Cancel"),l.a.createElement(j.a,{color:"danger",size:"sm",onClick:this.deleteTest},"Delete"))),l.a.createElement(z.a,{isOpen:this.state.cancelModal,toggle:this.cancelToggle},l.a.createElement(H.a,null,"Warning"),l.a.createElement(B.a,null,"This will stop all running tasks amd end the test."),l.a.createElement(W.a,null,l.a.createElement(j.a,{color:"link",size:"sm",onClick:this.cancelToggle},"Cancel"),l.a.createElement(j.a,{color:"danger",size:"sm",onClick:this.cancelTest},"Cancel Test"))))}}]),a}(l.a.Component);T.c.configure(awsConfig);var ee={sectionFooterSecondaryContent:Object(d.a)(Object(d.a)({},C.a.sectionFooterSecondaryContent),{},{display:"none"})},te=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).noMatch=n.noMatch.bind(Object(m.a)(n)),n.signOut=n.signOut.bind(Object(m.a)(n)),n.toggleNavbar=n.toggleNavbar.bind(Object(m.a)(n)),n.state={collapsed:!0},n}return Object(o.a)(a,[{key:"noMatch",value:function(e){var t=e.location;return l.a.createElement("div",null,l.a.createElement("h3",null,"Error 404 Page not found: ",l.a.createElement("code",null,t.pathname)))}},{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"signOut",value:function(){T.b.signOut(),window.location.reload()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(E.a,null,l.a.createElement(g.a,{color:"light",light:!0,fixed:"top",expand:"md"},l.a.createElement(v.a,{href:"/"},"Cloud Based Load & Performance Testing "),l.a.createElement(f.a,{onClick:this.toggleNavbar,className:"mr-2"}),l.a.createElement(N.a,{isOpen:!this.state.collapsed,navbar:!0},l.a.createElement(y.a,{className:"mr-auto",navbar:!0},l.a.createElement(k.a,null,l.a.createElement(E.b,{to:"/dashboard",className:"nav-link"},l.a.createElement(p.a,{id:"icon",icon:b.b})," Dashboard")),l.a.createElement(k.a,null,l.a.createElement(E.b,{to:{pathname:"/create",state:{data:{}}},className:"nav-link"},l.a.createElement(p.a,{id:"icon",icon:b.e})," Create Test"))),l.a.createElement(y.a,{className:"ml-auto",navbar:!0},l.a.createElement(k.a,null,l.a.createElement(E.b,{to:"",onClick:this.signOut,className:"nav-link"},l.a.createElement(p.a,{id:"icon",icon:b.f})," Sign Out"))))),l.a.createElement("div",{className:"main"},l.a.createElement(h.c,null,l.a.createElement(h.a,{path:"/",exact:!0,component:U}),l.a.createElement(h.a,{path:"/dashboard",exact:!0,component:U}),l.a.createElement(h.a,{path:"/create/",component:J}),l.a.createElement(h.a,{path:"/details/",component:Z}),l.a.createElement(h.a,{component:this.noMatch})))))}}]),a}(l.a.Component),ae=Object(C.b)(te,!1,[],null,ee);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},78:function(e,t){}},[[168,1,2]]]);
//# sourceMappingURL=main.0a39971a.chunk.js.map